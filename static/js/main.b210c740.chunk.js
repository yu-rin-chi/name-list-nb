(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(43)},22:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(9),s=n.n(l),r=(n(22),n(10)),i=n(11),c=n(14),u=n(12),h=n(15),d=n(13),m=n.n(d),p=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).clickHandler=function(){e.loadUserId().catch(function(t){alert("\u30a8\u30e9\u30fc\u767a\u751f"),e.loadUserWord().catch(function(e){alert("\u30a8\u30e9\u30fc\u767a\u751f")})})},e.state={isLogin:!1,departmentList:[],user:null,group:null,word:null,inputText:null},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.httpClient=m.a.create({baseURL:"https://kadou.i.nijibox.net/api",withCredentials:!0}),this.loadAuth().then(function(){return e.state.isLogin?e.loadDepartments():(console.log("then"),Promise.resolve())}).catch(function(e){alert("API\u304c\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u307e\u3057\u305f\n\n"+e)})}},{key:"loadAuth",value:function(){var e=this;return console.log("auth"),this.httpClient.get("/auth",{params:{callback:"http://localhost:3000"}}).then(this.commonResponseHandling).then(function(t){console.log("result",t),t.is_login?(console.log("login"),e.setState({isLogin:!0})):t.auth_url&&(window.location.href=t.auth_url)})}},{key:"loadUserId",value:function(e){var t=this;return this.httpClient.get("/who/seach/user/user_id=".concat(e,"/")).then(this.commonResponseHandling).then(function(e){console.log("---"),console.log(e),console.log("---"),t.setState({user:e})})}},{key:"loadUserWord",value:function(e){var t=this;return this.httpClient.get("/who/search/",{params:{query:e}}).then(this.commonResponseHandling).then(function(e){console.log("---"),console.log(e),console.log("---"),t.setState({group:e})})}},{key:"commonResponseHandling",value:function(e){return console.debug(e),"200"!==e.data.code?(console.error(e.data.data),Promise.reject("API Error:"+e.data.data.message)):Promise.resolve(e.data.data)}},{key:"handleTextChange",value:function(e){console.log(e.target.value),this.setState({inputText:e.target.value})}},{key:"render",value:function(){var e=this;return console.log("render"),o.a.createElement("div",{className:"App"},this.state.isLogin?o.a.createElement("div",null,o.a.createElement("h1",null),o.a.createElement("form",null,o.a.createElement("input",{class:"textbox",type:"text",onChange:function(t){return e.handleTextChange(t)}})),o.a.createElement("div",{class:"btns"},o.a.createElement("button",{class:"btn_number",onClick:function(t){return e.loadUserId(e.state.inputText)}},"\u756a\u53f7\u3067\u8868\u793a"),o.a.createElement("button",{class:"btn_freeword",onClick:function(t){return e.loadUserWord(e.state.inputText)}},"\u30d5\u30ea\u30fc\u30ef\u30fc\u30c9\u3067\u8868\u793a")),this.state.user&&o.a.createElement("div",null,this.state.user.user_name,o.a.createElement("br",null),this.state.user.description,o.a.createElement("img",{src:this.state.user.main_photo_url,alt:""})),this.state.group&&o.a.createElement("ul",null,this.state.group.item_list.map(function(e,t){return o.a.createElement("li",{key:t},e.user_name,o.a.createElement("img",{src:e.photo_url,alt:"test"}))}))):o.a.createElement("p",null,"\u672a\u30ed\u30b0\u30a4\u30f3"))}}]),t}(a.Component);s.a.render(o.a.createElement(p,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.b210c740.chunk.js.map